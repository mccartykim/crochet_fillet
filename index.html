<!doctype html>
<html>
  <head>
    <title>Crochet Fillet in the Round</title>
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
          integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>
          <style>
            ul {
              list-style-type: none;
            }
          </style>
  </head>
<body>
  <h1>Crochet Fillet Pattern Maker</h1>
  <p>This is a work in progress, which tries to use <a href="https://en.wikipedia.org/wiki/Dither">dithering</a> along polar coordinates to create a crochet fillet or colorwork crochet pattern for crochet in the round. It unfortunately runs quite slowly, which I hope to sort out someday.</p>
  <form action="">
    <ul>
      <li><label for="src">Image Url (works well with imgur)</label></li>
        <li><input name="src" type="url" value="https://i.imgur.com/PQsJsGD.png"></li>
          <li><label for="rows">Rows</label></li>
            <li><input type="number" name="rows" value=40></li>
              <li><label for="basestitch">Base Stitch Count</label></li>
                <li><input type="number" name="basestitch" value=6></li>
                  <li><label for="height">Stitch Height (in pixels)</label></li>
                    <li><input type="number" name="height" value=10></li>
                      <li><label for="thresh">Treshhold for dithering (0 = lightest, 100 = darkest)</label></li>
                        <li><input type="number" name="thresh" value=45></li>
                          <li><input type="submit" value="Render Pattern"></li>
    </ul>
  </form>
  <iframe src="" width=800 height=800>
  </iframe>
  <script>
    $(function(){
      $("form").submit(function(event){
       // make parameters
        data = $("form").serialize();
        //https://mccartykim.github.io/crochet_fillet/index.html?src=https://upload.wikimedia.org/wikipedia/en/2/24/Lenna.png&thresh=60
        $("iframe").attr("src", "pattern.html?" + data);
        event.preventDefault();
      });
    });
  </script>
</body>
</html>
